---
title: 无连接传输：UDP
id: 3
---

“尽力而为”的服务，报文段可能**丢失**或**送到应用进程的报文段乱序**



无连接特点

- UDP发送端和接收端之间没有握手
- 每个UDP报文段都被独立地处理

UDP 被用于流媒体（丢失不敏感， 速率敏感、应用可控制传输速率）、DNS、SNMP



在UDP上可行可靠传输，则

- 在应用层增加可靠性
- 应用特定的差错恢复



**UDP报文段格式：**

![流程图 (2)](/img/Network/计算机网络/传输层/流程图 (2)-16406727379761.png)

**UDP存在的必要性**

- 不建立连接（会增加延时 ）
- 简单：在发送端和接收端没有连接状态
- 报文段的头部很小（开销小）
- 无拥塞控制和流量控制：UDP可以尽可能快的发送报文段



**UDP校验和**

目标： 检测在被传输报文段中的差错（如比特反转）

发送方

- 将报文段的内容视为16比特的整数
- 校验和：报文段的加法和（1的补运算）
- 发送方将校验和放 UDP的校验和字段

接收方

- 计算接收到的报文段的校验和
- 检查计算出的校验和与校验和字段的内容是否相等
  - 不相等–--检测到差错
  - 相等–--没有检测到差错 ，但也许还是有差错，如残存错误

校验和的计算：

- 当数字相加时，在最高位的进位要回卷，再加到结果上
- 最终得到的检验码是计算的反码
- 目标端：校验范围+校验和=1111111111111111 则通过校验