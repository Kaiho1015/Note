---
title: String
---

import Table from "@site/src/components/Table/index";

JavaScript 中表示文本的类型是 `String`，即字符串

字符串是 16 位值的不可修改的有序序列，每个值表示一个 Unicode 字符

### 字符串字面量

JavaScript 字符串可以用一对匹配的单引号、双引号或反引号来包含

> ES6新增可以使用反引号定界字符串

单引号、双引号、反引号可以相互嵌套

JavaScript 早期版本要求字符串字面量写在一行，ES5 可以在每行末尾加一个反斜杠（ \ ）写道多行上，ES6 的反引号支持跨行字符串

```js
// 写在一行但表示两行的字符串：
'two\nlines'

// 写在三行但只有一行的字符串：
"one\
 long\
 line"

// 写在两行实际也是两行的字符串：
'two
 nlines'
```



### 转义序列
<Table
  data={{
    position: ["center","center"],
    header: ["序列", "表示的字符"],
    body: [
      ["\\0", "NULL字符 "],
      ["\\b", "退格符 "],
      ["\\t", "水平制表符 "],
      ["\\n", "换行符 "],
      ["\\v", "垂直制表符 "],
      ["\\f", "进纸符 "],
      ["\\r", "回车符 "],
      ["\\\"", "双引号"],
      ["\\\'", "单引号"],
      ["\\\\", "反斜杠"],
      ["\\xnn", "由 2 为十六进制数字 nn 指定的 Unicode 字符"],
      ["\\unnnn", "由 4 为十六进制数字 nnnn 指定的 Unicode 字符"],
      ["\\u{n}", "由码点 n 指定的 Unicode 字符，其中 n 是介于 0 和 10FFFF 之间的 1 到 6 位十六进制数字（ES6）"],
    ],
  }}
/>



### 字符串使用

JavaScript 可以使用 + 操作符拼接字符串，可以使用 `===` 和 `!==` 操作符比较字符串，也可以使用其比较字符串如： <、 <=、>和 >=

操作字符串的API

```js
let s = "Hello, world";
s.length					    // => 12：返回字符串长度

// 取得字符串的一部分
s.substring(1,4)				// => "ell"：第 2~4 个字符
s.slice(1,4)					// => "ell"：同上
s.slice(-3)					    // => "rld"：最后 3 个字符
s.split(", ")					// => ["Hello","world"]：从定界处拆分

// 搜索字符串
s.indexOf("l")					// => 2：第一个字母 l 的位置
s.indexOf("l",3)				// => 3：位置 3 后面第一个 l 的位置
s.indexOf("zz")					// => -1：s 并不包含子串 zz
s.lastIndexOf("l")				// => 10：最后一个字母 l 的位置

// ES6 及之后版本中的布尔值搜索函数
s.startsWith("hell") 			// => true：字符串是以这些字符开头的
s.endWith("!")					// => false：s 不是以它结尾的
s.includes("or")				// => true：s包含子串 or

// 创建字符串的修改版本
s.replace("llo","ya")			// => "Heya,world"
s.toLowerCase()					// => "hello, world"
s.toUpperCase()					// => "HELLO, WORLD"
s.normalize()					// Unicode NFC 归一化：ES6 新增
s.normalize("NFD")				// NFD 归一化。还有 NFKC 和 NFKD

// 访问字符串的个别（16位值）字符
s.charAt(0)					    // => "H"：第一个字符
s.charAt(s.length-1)			// => "d"：最后一个字符
s.charCodeAt(0)					// => 72：指定位置的16位数值
s.codePointAt(0)				// => 72：ES6，适用于码点大于 16 位的情形

// ES2017 新增字符串填充函数
"x".padStart(3)					// => "  x"：在左侧添加空格，让字符串长度变成3
"x".padEnd(3)					// => "x  "：在右侧添加空格，让字符串长度变成3
"x".padStart(3,"*")				// => "**x"：在左侧添加星号，让字符串长度变成3
"x".padEnd(3,"-")				// => "x--"：在右侧添加破折号，让字符串长度变成3

// 删除空格函数
" test ".trim()					// => "test"：删除开头和末尾的空格
" test ".trimStart()			// => "test "：删除左侧的空格。也叫 trimLeft
" test ".trimEnd()				// => " test"：删除右侧的空格。也叫 trimRight

// 未分类字符串方法
s.concat("!")					// => "Hello, world!"：可以用 + 操作符代替
"<>".repeat(5)				    // => "<><><><><>"：拼接 n 次。ES6 新增
```

JavaScript中的字符串是不可修改的。像 `replace()` 和 `toUpperCase()` 这些都返回新字符串

字符串也可以被当成只读数组，用方括号访问



### 模板字面量

ES6 及之后的版本，字符串字面量可以用反引号定界，反引号中可以包含模板字面量，模板字面量可以包含任意JavaScript表达式

```js
let name = "Bill";
let greeting = `Hello ${ name }.`;		 // => greeting == "Hello Bill."
```

**标签化模板字面量**：在开头的反引号前添加函数名（标签），则模板字面量中的文本和表达式的值作为参数传给这个函数

”标签化模板字面量“的值即这个函数的返回值

ES6 提供内置的标签函数：`String.raw()` ，用于返回反引号中未经处理的文本

```js
'\n'.length					// => 1：字符串中只包含一个换行符
String.raw'\n'.length		// => 2：一个反斜杠字符和一个字母n
```
