## 函数作为值

在 JavaScript 中，函数不仅是语法，也是值，即可以把函数赋值给变量、保存为对象的属性或数组的元素、作为参数传给其他函数等操作

函数在 JavaScript 中不是原始值，是一种特殊的对象，即函数也可以有属性。当函数需要一个“静态”变量，且这个变量的值需要在函数每次调用时都能访问到，则通常把这个变量定义为函数自身的一个属性

```js
// 计算阶乘并把结果缓存到函数本身的属性中
function factorial(n){
    if(Number.isInteger && n > 0){              // 仅限于正整数
        if(!(n in factorial)){                  // 若没有缓存
            factorial[n] = n * factorial(n-1);  // 计算并缓存结果
        }
        return factorial[n];                    // 返回缓存结果
    }else{
        return NaN;
    }
}

factorial[1] = 1;         // 初始化缓存
factorial[6]              // => 720
factorial[5]              // => 120
```







## 函数作为命名空间

在函数体内声明的变量在函数外部不可见，可以利用函数作为临时命名空间

假设有一段 JavaScript 代码，想在多个程序或页面中调用，且这段代码定义了存储中间计算结果的变量，则无法知道多个程序创建的变量是否会跟这段代码冲突，利用函数作为命名空间可以解决

```js
function chunkNamespace(){
    // 要复用的代码
    // 在这里定义的任何变量都是函数的局部变量
    // 不会污染全局命名空间
}
chunkNamespace()    // 需要调用函数
```

也可以在一个表达式中定义并调用匿名函数（也称立即调用函数表达式）

```js
(function(){
   // 将 chunkNamespace() 函数重写为一个无名表达式
   // 要复用的代码
});    // 函数定义结束后立即调用
```



